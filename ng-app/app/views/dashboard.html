<div class="row dashboard">
  <div class="col-md-12">
    <alert class="alert-danger">Registration Deadline is <b>April 19th, 2015. Register now!</b></alert>
  </div>
  <div class="col-md-5">
    <div class="panel panel-themed user-info-panel">
      <div class="panel-body">
        <div class="first-name">{{currentUser.first_name}}</div>
        <div>{{currentUser.first_name}} {{currentUser.last_name}}</div>
        <div>{{currentUser.university.name}}</div>
        <div>{{currentUser.email}}</div>
        <span class="edit-user-info">
          <a href="/app/user-settings"
             tooltip-placement="bottom"
             tooltip="User settings">
            <span class="glyphicon glyphicon-edit"></span>
          </a>
        </span>
      </div>
    </div>
  </div>
  <div class="col-md-7">
    <div class="panel panel-themed" ng-show="todos.length">
      <div class="panel-heading">
        <h3 class="panel-title">What to do next?</h3>
      </div>
      <ul class="list-group">
        <li class="list-group-item" ng-repeat="todo in todos">
          {{ todo.title }}
          <a href="{{ todo.link }}" ng-disabled="!todo.link" role="button" class="btn btn-primary btn-xs pull-right">{{ todo.label }}</a>
        </li>
      </ul>
    </div>
    <div class="panel panel-themed">
      <div class="panel-heading">
        <h3 class="panel-title">Payments</h3>
      </div>
      <table class="table table-bordered">
        <tr>
          <th>General registration</th>
          <td>{{(currentUser.registration_payment_status && "Paid") || "Payment pending"}}</td>
        </tr>
      </table>
    </div>
    <div class="panel panel-themed">
      <div class="panel-heading">
        <h3 class="panel-title">Sports</h3>
      </div>
      <table class="table table-bordered">
        <tr>
          <th>Sports registration</th>
          <td>{{(currentUser.registration_payment_status == false && "Please register for general registration first before registering for sports") || (currentUser.sports_payment_uninit && "Payment pending") || (currentUser.sports_payment_unpaid && "Payment pending") || (currentUser.sports_payment_status && "Paid")}}</td>
        </tr>
        <tr ng-repeat="participate in participating">
          <th>
            {{ participate.name }}
          </th>
          <td>
            <div class="btn-toolbar">
              <button type="submit" class="btn btn-danger pull-right btn-md" ng-show="participate.status=='invite_request'" ng-click="decline(participate.id, participate.activation_key)">Decline</button>
              <button type="submit" class="btn btn-success pull-right btn-md" ng-show="participate.status=='invite_request'" ng-click="accept(participate.id, participate.activation_key)">Accept</button>
            </div>
            <div ng-show="participate.status=='accepted'">
              Your schedule can be found here when it's ready. Stay tuned!
            </div>
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>
